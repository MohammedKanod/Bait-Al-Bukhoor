<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Bakhoor Catalogue — Demo</title>  <!-- Fonts -->  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&amp;family=Poppins:wght@300;400;600&amp;display=swap" rel="stylesheet">  <style>
    :root{
      /* Palette from the user-approved palette */
      --desert-sand: #F6D7A7; /* Primary background */
      --golden-brass: #D4A017; /* accent */
      --charcoal: #1E1E1E; /* primary text */
      --smoky-brown: #4B3B2B; /* secondary text */
      --royal-purple: #7A3EB1; /* highlight */
      --olive-green: #7B8C2E; /* soft accent */
      --ivory-cream: #FFF8E7; /* light neutral */
      --warm-taupe: #C8A98E; /* borders */

      --page-max-width: 1100px;
      --card-gap: 20px;
      --shadow: 0 8px 20px rgba(30,30,30,0.12);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: 'Poppins', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background: linear-gradient(180deg,var(--ivory-cream), var(--desert-sand));
      color:var(--charcoal);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:40px 20px;
      display:flex;
      justify-content:center;
    }

    .site{
      width:100%;
      max-width:var(--page-max-width);
    }

    header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:36px;
    }

    .brand{
      display:flex;align-items:center;gap:14px;
    }
    .logo{
      width:46px;height:46px;border-radius:10px;background:linear-gradient(135deg,var(--golden-brass),var(--warm-taupe));
      display:flex;align-items:center;justify-content:center;color:var(--ivory-cream);font-weight:700;font-family:'Playfair Display';
      box-shadow:var(--shadow);
    }
    h1{font-family:'Playfair Display';font-weight:700;margin:0;font-size:36px;color:var(--charcoal);}
    p.lead{margin:6px 0 0;color:var(--smoky-brown)}

    /* Grid */
    .grid-wrap{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--card-gap)}
    @media (max-width:820px){.grid-wrap{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:600px){.grid-wrap{grid-template-columns:1fr}}

    .card{
      background:var(--ivory-cream);
      border-radius:12px;
      overflow:visible;
      display:flex;flex-direction:column;align-items:stretch;
      box-shadow:var(--shadow);
      border:1px solid rgba(0,0,0,0.04);
    }

    /* Image container will size according to the intrinsic image dimensions.
       We keep the image responsive (max-width:100%) so the card width controls the scale.
       The height of the card will adapt to the image naturally. */
    .card .media{display:block;padding:12px}
    .card img{display:block;width:100%;height:auto;border-radius:8px}

    .meta{padding:14px 16px 20px}
    .meta h3{font-family:'Playfair Display';margin:0 0 6px;font-size:20px;color:var(--charcoal)}
    .meta p{margin:0;color:var(--smoky-brown);font-size:14px}

    /* Hero area */
    .hero{display:flex;gap:24px;align-items:center;margin-bottom:32px}
    .hero .text{flex:1}
    .hero .visual{width:420px;max-width:40%;min-width:260px}
    @media (max-width:900px){.hero{flex-direction:column}.hero .visual{max-width:100%;width:100%}}

    .btn-row{margin-top:16px;display:flex;gap:12px}
    .btn{padding:10px 16px;border-radius:8px;border:2px solid var(--golden-brass);background:transparent;color:var(--charcoal);font-weight:600;cursor:pointer}
    .btn:hover{background:var(--golden-brass);color:var(--ivory-cream);transform:translateY(-2px)}

    /* Loading / empty states */
    .loading{padding:36px;text-align:center;color:var(--smoky-brown)}
    .note{font-size:13px;color:var(--smoky-brown);margin-top:8px}

    footer{margin-top:36px;padding:18px;text-align:center;color:var(--smoky-brown)}

  </style></head>
<body>
  <div class="site">
    <header>
      <div class="brand">
        <div class="logo">B</div>
        <div>
          <h1>Bakhoor &amp; Burners</h1>
          <p class="lead">Luxury bakhoor, handcrafted burners — scroll to explore</p>
        </div>
      </div>
      <nav aria-label="main nav">
        <button class="btn" onclick="window.scrollTo({top:document.body.scrollHeight,behavior:'smooth'})">Contact</button>
      </nav>
    </header><main>
  <section class="hero">
    <div class="text">
      <h2 style="font-size:40px;margin:0 0 8px;font-family:'Playfair Display'">Awaken the soul with scent</h2>
      <p class="lead">A curated catalogue of bakhoor blends and elegant burners. Images are loaded automatically from the <code>images/</code> folder named <code>1.jpg,2.jpg,...</code></p>
      <div class="btn-row">
        <button class="btn" onclick="scrollToCatalogue()">Shop Bakhoor</button>
        <button class="btn" onclick="scrollToCatalogue()">Explore Burners</button>
      </div>
    </div>
    <div class="visual">
      <!-- gentle hero image: use images/1.jpg if available -->
      <div class="card">
        <div class="media"><img id="heroImg" src="images/1.jpg" alt="hero burner image" onerror="this.style.display='none'" style="display: none;"></div>
      </div>
    </div>
  </section>

  <section>
    <h2 style="font-family:'Playfair Display'">Product Catalogue</h2>
    <div id="catalogue" class="grid-wrap" style="margin-top:18px"><div class="loading">No product images found in <code>images/</code>. Place 1.jpg, 2.jpg, ... and reload.</div></div>
  </section>
</main>

<footer>
  <small>Site demo • Images must be placed in a folder named <code>images/</code> at the same level as this HTML file. Files should be named <code>1.jpg</code>, <code>2.jpg</code>, etc.</small>
</footer>

  </div>  <script>
    // Auto-detect images in images/1.jpg, images/2.jpg, ...
    // Strategy: sequentially attempt to load up to MAX_INDEX and stop when
    // we encounter CONSECUTIVE_MISS_LIMIT missing images after we've found at least one.

    (function(){
      const catalogue = document.getElementById('catalogue');
      const loader = document.getElementById('loader');
      const heroImg = document.getElementById('heroImg');

      const MAX_INDEX = 120;          // upper bound to search
      const CONSECUTIVE_MISS_LIMIT = 6; // how many consecutive misses before stopping
      const TIMEOUT = 5000;           // ms timeout per image load

      async function probeImages(){
        const found = [];
        let missCount = 0;
        for(let i=1;i<=MAX_INDEX;i++){
          try{
            const ok = await loadImageWithTimeout(`images/(${i}).jpg`, TIMEOUT);
            if(ok){
              found.push({idx:i,src:`images/(${i}).jpg`});
              missCount = 0; // reset
            } else {
              missCount++;
            }
          }catch(e){
            missCount++;
          }

          // stop early when we've seen at least one image and then several misses in a row
          if(found.length>0 && missCount>=CONSECUTIVE_MISS_LIMIT) break;
        }
        return found;
      }

      function loadImageWithTimeout(src, timeout=3000){
        return new Promise((resolve)=>{
          const img = new Image();
          let settled=false;
          const t = setTimeout(()=>{ if(!settled){settled=true; img.onload=null; img.onerror=null; resolve(false);} }, timeout);
          img.onload = ()=>{ if(!settled){settled=true; clearTimeout(t); resolve(true);} };
          img.onerror = ()=>{ if(!settled){settled=true; clearTimeout(t); resolve(false);} };
          img.src = src + '?_=' + Date.now(); // bust caches
        });
      }

      function makeCard(item, index){
        const card = document.createElement('article');
        card.className = 'card';

        const media = document.createElement('div');
        media.className = 'media';
        const img = document.createElement('img');
        img.src = item.src;
        img.alt = `Product ${index}`;
        img.loading = 'lazy';
        media.appendChild(img);

        const meta = document.createElement('div');
        meta.className = 'meta';
        const title = document.createElement('h3');
        title.textContent = `Product ${index}`;
        const p = document.createElement('p');
        p.textContent = 'Handcrafted aroma — explore the sensory notes.';
        meta.appendChild(title);
        meta.appendChild(p);

        card.appendChild(media);
        card.appendChild(meta);
        return card;
      }

      function renderCatalogue(items){
        catalogue.innerHTML = '';
        if(items.length===0){
          catalogue.innerHTML = '<div class="loading">No product images found in <code>images/</code>. Place 1.jpg, 2.jpg, ... and reload.</div>';
          return;
        }

        // create cards. The requirement: 2 in a row (grid handles this). Cards auto-size to image.
        items.forEach((it,i)=>{
          const card = makeCard(it, i+1);
          catalogue.appendChild(card);
        });
      }

      function scrollToCatalogue(){
        const rect = catalogue.getBoundingClientRect();
        window.scrollTo({top: window.scrollY + rect.top - 40, behavior:'smooth'});
      }

      // kick off
      (async function(){
        const imgs = await probeImages();
        renderCatalogue(imgs);
        if(imgs.length>0){
          // set hero image to the first found image
          heroImg.src = imgs[0].src;
          heroImg.style.display = 'block';
        }
      })();

      // expose scroll function to buttons
      window.scrollToCatalogue = scrollToCatalogue;

    })();
  </script>
f</body></html>